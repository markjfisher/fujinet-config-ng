Given basic setup test "*"
  Given I have a simple overclocked 6502 system
  And I enable trace with indent
  And I create directory "build/tests"

Given perform mads compile of test.a
  When I run the command line: mads -s -o:build/tests/test.xex -t:build/tests/test.lbl build/tests/test.a
  When I load xex "build/tests/test.xex"
  When I convert mads-labels file "build/tests/test.lbl" to acme labels file "build/tests/test.al"
  When I load labels "build/tests/test.al"

Given I mads-compile "*" from "*"
  When I run the command line: mads -s -o:build/tests/$1.obx -t:build/tests/$1.lbl -l:build/tests/$1.lst $2

Given I build and load the application "*" from "*"
  When I run the command line: mads -s -i:build/tests -o:build/tests/$1.xex -t:build/tests/$1.lbl -l:build/tests/$1.lst $2
  When I load xex "build/tests/$1.xex"
  When I convert mads-labels file "build/tests/$1.lbl" to acme labels file "build/tests/$1.al"
  When I load labels "build/tests/$1.al"
